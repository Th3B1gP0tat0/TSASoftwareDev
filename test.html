const prelist = {
    "Alice": 123,
    "Bob": 456,
    "Charlie": 789
  };
  
  function FriendsTable({ friends }) {
    return (
      <table className="table-spacing" style={{ color: "white", marginTop: "20px" }}>
        <thead>
          <tr>
            <th>Name</th>
            <th>Energy Points</th>
          </tr>
        </thead>
        <tbody>
          {friends.map(([name, points], idx) => (
            <tr key={idx}>
              <td>{name}</td>
              <td>{points}</td>
            </tr>
          ))}
        </tbody>
      </table>
    );
  }
  
  function FriendsApp() {
    const [friends, setFriends] = React.useState(Object.entries(prelist));
    const [newFriend, setNewFriend] = React.useState("");
    const [removeFriend, setRemoveFriend] = React.useState("");
    const [isPopupOpen1, setIsPopupOpen1] = React.useState(false);
    const [isPopupOpen, setIsPopupOpen] = React.useState(false);
  
    const addFriend = () => {
      if (newFriend && !friends.some(([name]) => name === newFriend)) {
        setFriends([...friends, [newFriend, Math.floor(Math.random() * 1000)]]);
        setNewFriend("");
        setIsPopupOpen1(false);
      }
    };
  
    const removeFriendFunc = () => {
      setFriends(friends.filter(([name]) => name !== removeFriend));
      setRemoveFriend("");
      setIsPopupOpen(false);
    };
  
    return (
      <div style={{ textAlign: "right", marginTop: "20px" }}>
        <button onClick={() => setIsPopupOpen1(true)} style={{
          padding: "10px 15px", backgroundColor: "#28a745", color: "white",
          border: "none", borderRadius: "5px", cursor: "pointer", marginRight: "10px"
        }}>
          <span className="material-symbols-outlined">group_add</span>
        </button>
  
        <button onClick={() => setIsPopupOpen(true)} style={{
          padding: "10px 15px", backgroundColor: "#28a745", color: "white",
          border: "none", borderRadius: "5px", cursor: "pointer"
        }}>
          <span className="material-symbols-outlined">group_remove</span>
        </button>
        
        {isPopupOpen1 && (
          <div style={{
            position: "fixed", top: 0, left: 0, width: "100%", height: "100%",
            backgroundColor: "rgba(0, 0, 0, 0.5)", display: "flex", justifyContent: "center", alignItems: "center"
          }}>
            <div style={{
              backgroundColor: "white", padding: "20px", borderRadius: "10px", textAlign: "center",
              boxShadow: "0px 0px 10px rgba(0,0,0,0.3)", width: "300px", position: "relative"
            }}>
              <button onClick={() => setIsPopupOpen1(false)} style={{
                position: "absolute", top: "2px", right: "2px", background: "none",
                border: "none", fontSize: "20px", cursor: "pointer"
              }}>×</button>
              <h2>Add Friend</h2>
              <label>
                Friend Name:
                <input type="text" value={newFriend} onChange={(e) => setNewFriend(e.target.value)} required size="10" />
              </label>
              <button onClick={addFriend} style={{
                display: "block", marginTop: "10px", padding: "5px 10px", backgroundColor: "#28a745",
                color: "white", border: "none", borderRadius: "5px", cursor: "pointer"
              }}>Submit</button>
            </div>
          </div>
        )}
        
        {isPopupOpen && (
          <div style={{
            position: "fixed", top: 0, left: 0, width: "100%", height: "100%",
            backgroundColor: "rgba(0, 0, 0, 0.5)", display: "flex", justifyContent: "center", alignItems: "center"
          }}>
            <div style={{
              backgroundColor: "white", padding: "20px", borderRadius: "10px", textAlign: "center",
              boxShadow: "0px 0px 10px rgba(0,0,0,0.3)", width: "300px", position: "relative"
            }}>
              <button onClick={() => setIsPopupOpen(false)} style={{
                position: "absolute", top: "2px", right: "2px", background: "none",
                border: "none", fontSize: "20px", cursor: "pointer"
              }}>×</button>
              <h2>Remove Friend</h2>
              <label>
                Friend Name:
                <input type="text" value={removeFriend} onChange={(e) => setRemoveFriend(e.target.value)} required size="10" />
              </label>
              <button onClick={removeFriendFunc} style={{
                display: "block", marginTop: "10px", padding: "5px 10px", backgroundColor: "#dc3545",
                color: "white", border: "none", borderRadius: "5px", cursor: "pointer"
              }}>Submit</button>
            </div>
          </div>
        )}
        
        <FriendsTable friends={friends} />
      </div>
    );
  }
  
  ReactDOM.createRoot(document.getElementById("root2")).render(<FriendsApp />);
  